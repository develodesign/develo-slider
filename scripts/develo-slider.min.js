(function(e){var t;var n;var r=function(n,r){this.options=e.extend(true,{autoSlide:false,className:"develo-slider",colourClass:null,controls:{colourClass:null,display:true,next:{content:"&gt;"},previous:{content:"&lt;"}},items:[],moveAmount:100},r);this.$el=n;this.items=[];t=this.options.className;this.setMoveAmount(this.options.moveAmount);this.render();this.setupBindings();this.populateSlider();if(this.options.autoSlide){this.setupAutoSlideBindings();this.autoSlide()}};r.prototype.render=function(){this.$el.addClass(t+"-viewport").empty();this.$container=e("<div/>").addClass(t+"-container").prependTo(this.$el);if(this.options.colourClass)this.$el.addClass(this.options.colourClass);this.renderControls()};r.prototype.renderControls=function(){this.$next=e("<a/>").addClass(t+"-control").addClass("next").html(this.options.controls.next.content).appendTo(this.$el);this.$previous=e("<a/>").addClass(t+"-control").addClass("previous").html(this.options.controls.previous.content).appendTo(this.$el);switch(this.options.controls.display){case"hover":this.$el.addClass("display-controls-on-hover");break;case false:this.$el.addClass("hide-controls");break}if(this.options.controls.colourClass){this.$next.addClass(this.options.controls.colourClass);this.$previous.addClass(this.options.controls.colourClass)}};r.prototype.setupBindings=function(){this.$next.on("click tap",e.proxy(this.moveSliderRight,this));this.$previous.on("click tap",e.proxy(this.moveSliderLeft,this))};r.prototype.setupAutoSlideBindings=function(){this.$el.on("mouseenter",e.proxy(this.autoSlideStop,this));this.$el.on("mouseleave",e.proxy(this.autoSlide,this))};r.prototype.moveSliderLeft=function(){return this.moveSlider(this.moveAmount)};r.prototype.moveSliderRight=function(){return this.moveSlider(-Math.abs(this.moveAmount))};r.prototype.moveSlider=function(e){var t=this.$container[0].style.marginLeft;var n=t?parseInt(t)+e:e;var r=this.getMarginConstraints();if(n>r.max)n=r.max;if(n<r.min)n=r.min;this.$container[0].style.marginLeft=n+"px";return parseInt(n)-parseInt(t)};r.prototype.resetSliderPosition=function(){this.moveSlider(this.getContainerWidth())};r.prototype.setMoveAmount=function(e){this.moveAmount=e};r.prototype.populateSlider=function(t){t=t||this.options.items;for(var n=0;n<t.length;n++){var r=t[n];this._add(r)}this.$container.append(e(this.items));this.updateContainerWidth()};r.prototype._add=function(n){e(n).addClass(t+"-item");this.items.push(n);return n};r.prototype.addItem=function(e){var t=this._add(e).appendTo(this.$container);var n=parseInt(t.outerWidth(true));var r=this.getContainerWidth()+n;this.setContainerWidth(r);return e};r.prototype.removeItem=function(t){var n=e(t);var r=this.items.indexOf(t);if(r>-1){var i=parseInt(n.outerWidth(true));this.$container.width(this.getContainerWidth()-i);this.items.splice(r,1);n.remove()}};r.prototype.getMarginConstraints=function(){return{max:0,min:-(this.getContainerWidth()-this.$el.width())}};r.prototype.getContainerWidth=function(){return this.$container.width()};r.prototype.updateContainerWidth=function(){var e=0;for(var t=0;t<this.items.length;t++){e=e+this.items[t].offsetWidth}this.setContainerWidth(e)};r.prototype.setContainerWidth=function(e){this.$container.width(e)};r.prototype.getNumberOfItems=function(){return this.items.length};r.prototype.autoSlide=function(){var t=this.moveSliderRight();if(t==0)this.resetSliderPosition();n=setTimeout(e.proxy(this.autoSlide,this),this.options.autoSlide)};r.prototype.autoSlideStop=function(){clearTimeout(n)};e.fn.develoSlider=function(t){this.each(function(){var n=e(this);if(!n.data("develoSlider")){n.data("develoSlider",new r(n,t))}});return this}})(jQuery)